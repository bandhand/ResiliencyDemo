# Log rotation configuration for PostgreSQL database

# PostgreSQL log files
/var/log/postgresql/postgresql-*.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    copytruncate
    su postgres postgres
    postrotate
        systemctl reload postgresql > /dev/null 2>&1 || true
    endscript
}

# Database health monitoring logs
/var/log/db-health.log {
    daily
    missingok
    rotate 7
    compress
    delaycompress
    notifempty
    copytruncate
}

# Database backup logs
/var/log/db-backup.log {
    weekly
    missingok
    rotate 4
    compress
    delaycompress
    notifempty
    copytruncate
}

# E-commerce deployment logs
/var/log/ecommerce-deployment.log {
    weekly
    missingok
    rotate 4
    compress
    delaycompress
    notifempty
    copytruncate
}

# E-commerce service logs
/var/log/ecommerce-service.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    copytruncate
}